<header header-directive></header>

<div class="mainbox" ng-if="isLogged()" profile-controller-directive>
    <legend>
        <h2>Wall</h2>
    </legend>

    <div user-controller-directive ng-init="getWallOwner()">
        <div profile-controller-directive class="wall-header col-xs-12" ng-if="wallOwner" ng-style="{'background-image':'url(' + (wallOwner.coverImageData ? wallOwner.coverImageData : defaultCoverImage) +')'}" ng-include="'templates/user-header.html'">

        </div>
        <div class="form-group col-md-9 col-xs-12">
            <div ng-if="isOwnWall || wallOwner.isFriend" ng-include="'templates/post-box.html'" class="row well"></div>
            <div ng-if="isLogged() && wallOwner" ng-include="'templates/posts.html'" class="row" infinite-scroll='loadUserWall()' infinite-scroll-distance="0"></div>
        </div>
        <div profile-controller-directive="">
            <div class="media col-md-3" ng-if="isOwnWall" ng-init="getOwnFriendsListPreview()" ng-include="'templates/friends-preview.html'"></div>
            <div class="media col-md-3" ng-if="!isOwnWall && friendsListPreview" ng-init="getUserFriendsListPreview()" ng-include="'templates/friends-preview.html'"></div>
        </div>
    </div>
</div>


